@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix cc: <http://creativecommons.org/ns#> .
@prefix od: <http://opendiscovery.org/rdf/Model#> .
@prefix tc: <http://opendiscovery.org/rdf/Concept/> .
@prefix ex: <http://example.orf/FlowAnalysisExample/ICE> .

ex:BasicInternalCombustionEngine
    a tc:Flow ;
    od:hasFlowType tc:ComplexFlow ;
    od:hasFlowSubstance ex:Fuel, ex:Transmission, ex:Heat, ex:Work, ex:Cooling, ex:Exhaust ;
    od:hasFlowFunctionality tc:CarrierFlow ;
    od:hasFlowDelegation tc:OpenFlow ;
    od:hasFlowSource tc:InternalSource ;
    od:hasStaticFlowComponent ex:Crankshaft, ex:ExhaustCamshaft, ex:InletCamshaft, ex:Piston, ex:ConnectionRod, ex:SparkPlug, ex:CombustionChamber, ex:IntakeValve, ex:ExhaustValve, ex:CoolingWaterJacket ;
    od:hasMethodOfDescription tc:ParametricDescription, ex:ICE3DModel .

ex:ICE3DModel
  a tc:GraphicDescription .

# We operate on two different system levels here. Therefore what's an tc:FlowSubstance on the second level is a tc:Flow on the first Level
# Further, as you can see, most of the tc:StaticFlowComponents use to take place as different components depending on their role in each subsystem

ex:Fuel
  a tc:Flow ;
  od:hasFlowType tc:DiscreteFlow ;
  od:hasFlowSubstance tc:Substance ;
  od:hasFlowFunctionality tc:UsefulFlow ;
  od:hasFlowDelegation tc:ClosedFlow ;
  od:hasFlowSource tc:InternalSource ;
  od:hasStaticFlowComponent ex:IntakeValve, ex:FuelPump, ex:FuelTank, ex:FuelSuppylPipe, ex:CombustionChamber .

ex:IntakeValve
  a tc:Valve .

ex:FuelPump
  a tc:Pump .

ex:FuelTank
  a tc:Current .

ex:CombustionChamber
  a tc:Receiver .

ex:FuelSuppylPipe
  a tc:Channel .

ex:Air
  a tc:Flow ;
  od:hasFlowType tc:DiscreteFlow ;
  od:hasFlowSubstance tc:Substance ;
  od:hasFlowFunctionality tc:UsefulFlow ;
  od:hasFlowDelegation tc:OpenFlow ;
  od:hasFlowSource tc:ExternalSource ;
  od:hasStaticFlowComponent ex:IntakeValve, ex:AirSupplyPipe, ex:Atmosphere, ex:Compressor, ex:CombustionChamber .

ex:AirSupplyPipe
  a tc:Channel .

ex:Atmosphere
  a tc:Current .

ex:Compressor
  a tc:Pump .

ex:IntakeValve
  a tc:Valve .

ex:AirFuelMixture
  a tc:Flow ;
  od:hasFlowType tc:ContinuousFlow ;
  od:hasFlowSubstance tc:Substance ;
  od:hasFlowFunctionality tc:UsefulFlow;
  od:hasFlowDelegation tc:OpenFlow ;
  od:hasFlowSource tc:ExternalSource ;
  od:hasStaticFlowComponent ex:IntakeValve, ex:CombustionChamber, ex:SparkPlug, ex:Piston .

ex:IntakeValve
  a tc:Potential .

ex:CombustionChamber
  a tc:Channel .

ex:SparkPlug
  a tc:Receiver .

ex:Piston
  a tc:Pump .

ex:Heat
  a tc:Flow ;
  od:hasFlowType tc:ContinuousFlow ;
  od:hasFlowSubstance tc:Energy ;
  od:hasFlowFunctionality tc:UsefulFlow, tc:HarmfulFlow ;
  od:hasFlowDelegation tc:OpenFlow ;
  od:hasFlowSource tc:InternalSource ;
  od:hasStaticFlowComponent ex:CombustionChamber, ex:SparkPlug, ex:Cylinder, ex:Piston .

ex:SparkPlug
  a tc:Potential .

ex:Cylinder 
  a tc:Valve .

ex:Piston
  a tc:Receiver .

ex:Work
  a tc:Flow ;
  od:hasFlowType tc:ContinuousFlow ;
  od:hasFlowSubstance tc:Energy, tc:Substance, tc:Information .
  od:hasFlowFunctionality tc:UsefulFlow ;
  od:hasFlowDelegation tc:ClosedFlow ;
  od:hasFlowSource tc:InternalSource ;
  od:hasStaticFlowComponent ex:Cylinder, ex:Piston, ex:ConnectionRod, ex:InternalCombustionEngine .

ex:Cylinder
  a tc:Channel . 

ex:Piston
  a tc:Current .

ex:ConnectionRod
  a tc:Receiver .

ex:InternalCombustionEngine
  a tc:ControlUnit .

ex:Transmission
  a tc:Flow ;
  od:hasFlowType tc:ContinousFlow ;
  od:hasFlowSubstance tc:Substance, tc:Information ;
  od:hasFlowFunctionality tc:UsefulFlow ;
  od:hasFlowDelegation ex:ClopenedFlow ;
  od:hasFlowSource tc:InternalSource ;
  od:hasStaticFlowComponent ex:Piston, ex:ConnectionRod, ex:Crankshaft .

ex:Piston
  a tc:Potential .

ex:ConnectionRod
  a tc:Channel, tc:ControlUnit .

ex:Crankshaft
  a tc:Receiver .

ex:Cooling
  a tc:Flow ;
  od:hasFlowType tc:ContinuousFlow ;
  od:hasFlowSubstance tc:Energy ;
  od:hasFlowFunctionality tc:UsefulFlow, tc:HarmfulFlow ;
  od:hasFlowDelegation tc:OpenFlow ;
  od:hasFlowSource tc:InternalSource, tc:ExternalSource ;
  od:hasStaticFlowComponent ex:CoolingTank, ex:CoolingWaterJacket, ex:InternalCombustionEngine, ex:CoolingPump .

ex:CoolingTank
  a tc:Current .

ex:CoolingWaterJacket
  a tc:Channel .

ex:InternalCombustionEngine
  a tc:Receiver

ex:CoolingPump
  a tc:Pump .

ex:Exhaust
  a tc:Flow ;
  od:hasFlowType tc:DiscreteFlow ;
  od:hasFlowSubstance tc:Substance ;
  od:hasFlowFunctionality tc:HarmfulFlow ;
  od:hasFlowDelegation tc:OpenFlow ;
  od:hasFlowSource tc:InternalSource ;
  od:hasStaticFlowComponent ex:CombustionChamber, ex:ExhaustPipe, ex:Atmosphere, ex:ExhaustValve .

ex:CombustionChamber
  a tc:Potential .

ex:ExhaustPipe
  a tc:Channel .

ex:Atmosphere
  a tc:Receiver .

ex:ExhaustValve
  a tc:Valve .

# Example of Flow Analysis of ICE
ex:InnovationOfExhaustFlow
  a tc:FlowAnalysis ;
  od:generatesFlowTransformation ex:ExhaustionFlowTransformation ;
  od:describesFlow ex:Exhaust ;
  od:analysesFlow ex:Fuel, ex:Air, ex:AirFuelMixture, ex:Heat, ex:Work ;
  od:inContext ex:PollutionRestrictions ;
  od:hasGoal ex:SatisfactionOfPollutionRestrictions ;
  od:hasRequirement ex:ReduceExhaustFlow, ex:PreserveWorkFlow ;
  ex:buildICEExhaustionModel ex:ICEExhaustionModel ;
  ex:buildICEExhaustionInnovationModel ex:ICEExhaustionInnovationModel ;
  tc:applyRulesofApplyingLawsOfDevelopmentOfTechnicalSystems ex:ICEExhaustionInnovationModel ;

ex:PollutionRestrictions
  a tc:Context .

ex:SatisfactionOfPollutionRestrictions
  a tc:Goal .

ex:EvaluationOfExhaustFlow
  a tc:RulesOfEvaluation ;
  od:detects ex:HighDispersedExhaust .

ex:Exhaust
  od:hasFlowDefect ex:HighDispersedExhaust .

ex:HighDispersedExhaust
  a tc:ExcessiveFlow .

ex:buildICEExhaustionModel
  a rdf:Property ;
  a od:buildModelAsIs ;
  rdfs:domain ex:InnovationOfExhaustFlow ;
  rdfs:range ex:ICEExhaustionModel .

ex:buildICEExhaustionInnovationModel
  a rdf:Property ;
  a od:buildModelAsRequired ;
  rdfs:domain ex:InnovationOfExhaustFlow ;
  rdfs:range ex:ICEExhaustionInnovationModel .

ex:ICEExhaustionModel
  a tc:ModelAsIs ;
  od:hasFlowType tc:ComplexFlow ;
  od:hasFlowSubstance ex:Fuel, ex:Transmission, ex:Heat, ex:Work, ex:Cooling, ex:Exhaust ;
  od:hasFlowFunctionality tc:CarrierFlow ;
  od:hasFlowDelegation tc:OpenFlow ;
  od:hasFlowSource tc:InternalSource ;
  od:hasStaticFlowComponent ex:Crankshaft, ex:ExhaustCamshaft, ex:InletCamshaft, ex:Piston, ex:ConnectionRod, ex:SparkPlug, ex:CombustionChamber, ex:IntakeValve, ex:ExhaustValve, ex:CoolingWaterJacket ;
  od:hasMethodOfDescription tc:ParametricDescription, ex:ICE3DModel ;
  od:generatesFlowTransformation ex:ExhaustionFlowTransformation .

ex:installCatalyticConverter
  a tc:reducePermeability .

ex:addGasolineAdditive
  a tc:compensateWithSecondFlow .

ex:ICEExhaustionInnovationModel
  a tc:ModelAsRequired ;
  od:hasFlowType tc:ComplexFlow ;
  od:hasFlowSubstance ex:Fuel, ex:FuelAdditive, ex:Transmission, ex:Heat, ex:Work, ex:Cooling, ex:Exhaust ;
  od:hasFlowFunctionality tc:CarrierFlow ;
  od:hasFlowDelegation tc:OpenFlow ;
  od:hasFlowSource tc:InternalSource ;
  od:hasStaticFlowComponent ex:Crankshaft, ex:ExhaustCamshaft, ex:InletCamshaft, ex:Piston, ex:ConnectionRod, ex:SparkPlug, ex:CombustionChamber, ex:IntakeValve, ex:ExhaustValve, ex:CoolingWaterJacket ;
  od:hasMethodOfDescription tc:ParametricDescription, ex:ICE3DModel ;
  od:generatesFlowTransformation ex:ExhaustionFlowTransformation .

ex:FuelAdditive
  a tc:Flow ;
  od:hasFlowType tc:DiscreteFlow ;
  od:hasFlowSubstance tc:Substance ;
  od:hasFlowFunctionality tc:UsefulFlow ;
  od:hasFlowDelegation tc:ClosedFlow ;
  od:hasFlowSource tc:InternalSource ;
  od:hasStaticFlowComponent ex:IntakeValve, ex:FuelPump, ex:FuelTank, ex:FuelSuppylPipe, ex:CombustionChamber .

ex:ExhausePipeWithCatalyticConverter
  a tc:Channel .

ex:ExhaustionFlowTransformation
  a tc:FlowTransformation .